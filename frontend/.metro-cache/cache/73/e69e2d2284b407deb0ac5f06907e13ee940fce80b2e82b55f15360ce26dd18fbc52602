{"dependencies":[{"name":"react-native-web/dist/index","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"55efhPHw3gz2FoQtoN2yI1VuhbM=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _reactNative = require(_dependencyMap[0], \"react-native-web/dist/index\");\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n  const {\n    WebRTCModule\n  } = _reactNative.NativeModules;\n\n  /**\n   * Type declaration for a permissions descriptor.\n   */\n\n  /**\n   * Class implementing a subset of W3C's Permissions API as defined by:\n   * https://www.w3.org/TR/permissions/\n   */\n  class Permissions {\n    constructor() {\n      _defineProperty(this, \"RESULT\", {\n        DENIED: 'denied',\n        GRANTED: 'granted',\n        PROMPT: 'prompt'\n      });\n      _defineProperty(this, \"VALID_PERMISSIONS\", ['camera', 'microphone']);\n      _defineProperty(this, \"_lastReq\", Promise.resolve());\n    }\n    /**\n     * Possible result values for {@link query}, in accordance with:\n     * https://www.w3.org/TR/permissions/#status-of-a-permission\n     */\n    /**\n     * This implementation only supports requesting these permissions, a subset\n     * of: https://www.w3.org/TR/permissions/#permission-registry\n     */\n    /**\n     * Helper for requesting Android permissions. On Android only one permission\n     * can be requested at a time (unless the multi-permission API is used,\n     * but we are not using that for symmetry with the W3C API for querying)\n     * so we'll queue them up.\n     *\n     * @param perm - The requested permission from\n     * {@link PermissionsAndroid.PERMISSIONS}\n     * https://facebook.github.io/react-native/docs/permissionsandroid#permissions-that-require-prompting-the-user\n     */\n    _requestPermissionAndroid(perm) {\n      return new Promise(resolve => {\n        _reactNative.PermissionsAndroid.request(perm).then(granted => resolve(granted === _reactNative.PermissionsAndroid.RESULTS.GRANTED), () => resolve(false));\n      });\n    }\n\n    /**\n     * Validates the given permission descriptor.\n     */\n    _validatePermissionDescriptior(permissionDesc) {\n      if (typeof permissionDesc !== 'object') {\n        throw new TypeError('Argument 1 of Permissions.query is not an object.');\n      }\n      if (typeof permissionDesc.name === 'undefined') {\n        throw new TypeError('Missing required \\'name\\' member of PermissionDescriptor.');\n      }\n      if (this.VALID_PERMISSIONS.indexOf(permissionDesc.name) === -1) {\n        throw new TypeError('\\'name\\' member of PermissionDescriptor is not a valid value for enumeration PermissionName.');\n      }\n    }\n\n    /**\n     * Method for querying the status of a permission, according to:\n     * https://www.w3.org/TR/permissions/#permissions-interface\n     */\n    query(permissionDesc) {\n      try {\n        this._validatePermissionDescriptior(permissionDesc);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n      if (_reactNative.Platform.OS === 'android') {\n        const perm = permissionDesc.name === 'camera' ? _reactNative.PermissionsAndroid.PERMISSIONS.CAMERA : _reactNative.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO;\n        return new Promise(resolve => {\n          _reactNative.PermissionsAndroid.check(perm).then(granted => resolve(granted ? this.RESULT.GRANTED : this.RESULT.PROMPT), () => resolve(this.RESULT.PROMPT));\n        });\n      } else if (_reactNative.Platform.OS === 'ios' || _reactNative.Platform.OS === 'macos') {\n        return WebRTCModule.checkPermission(permissionDesc.name);\n      } else {\n        return Promise.reject(new TypeError('Unsupported platform.'));\n      }\n    }\n\n    /**\n     * Custom method NOT defined by W3C's permissions API, which allows the\n     * caller to request a permission.\n     */\n    request(permissionDesc) {\n      try {\n        this._validatePermissionDescriptior(permissionDesc);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n      if (_reactNative.Platform.OS === 'android') {\n        const perm = permissionDesc.name === 'camera' ? _reactNative.PermissionsAndroid.PERMISSIONS.CAMERA : _reactNative.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO;\n        const requestPermission = () => this._requestPermissionAndroid(perm);\n        this._lastReq = this._lastReq.then(requestPermission, requestPermission);\n        return this._lastReq;\n      } else if (_reactNative.Platform.OS === 'ios' || _reactNative.Platform.OS === 'macos') {\n        return WebRTCModule.requestPermission(permissionDesc.name);\n      } else {\n        return Promise.reject(new TypeError('Unsupported platform.'));\n      }\n    }\n  }\n  var _default = new Permissions();\n  exports.default = _default;\n});","lineCount":129,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"default"],[7,17,6,15],[7,20,6,18],[7,25,6,23],[7,26,6,24],[8,2,6,25],[8,6,6,25,"_reactNative"],[8,18,6,25],[8,21,6,25,"require"],[8,28,6,25],[8,29,6,25,"_dependencyMap"],[8,43,6,25],[9,2,8,0],[9,11,8,9,"_defineProperty"],[9,26,8,24,"_defineProperty"],[9,27,8,25,"obj"],[9,30,8,28],[9,32,8,30,"key"],[9,35,8,33],[9,37,8,35,"value"],[9,42,8,40],[9,44,8,42],[10,4,8,44],[10,8,8,48,"key"],[10,11,8,51],[10,15,8,55,"obj"],[10,18,8,58],[10,20,8,60],[11,6,8,62,"Object"],[11,12,8,68],[11,13,8,69,"defineProperty"],[11,27,8,83],[11,28,8,84,"obj"],[11,31,8,87],[11,33,8,89,"key"],[11,36,8,92],[11,38,8,94],[12,8,8,96,"value"],[12,13,8,101],[12,15,8,103,"value"],[12,20,8,108],[13,8,8,110,"enumerable"],[13,18,8,120],[13,20,8,122],[13,24,8,126],[14,8,8,128,"configurable"],[14,20,8,140],[14,22,8,142],[14,26,8,146],[15,8,8,148,"writable"],[15,16,8,156],[15,18,8,158],[16,6,8,163],[16,7,8,164],[16,8,8,165],[17,4,8,167],[17,5,8,168],[17,11,8,174],[18,6,8,176,"obj"],[18,9,8,179],[18,10,8,180,"key"],[18,13,8,183],[18,14,8,184],[18,17,8,187,"value"],[18,22,8,192],[19,4,8,194],[20,4,8,196],[20,11,8,203,"obj"],[20,14,8,206],[21,2,8,208],[22,2,9,0],[22,8,9,6],[23,4,10,2,"WebRTCModule"],[24,2,11,0],[24,3,11,1],[24,6,11,4,"_reactNative"],[24,18,11,16],[24,19,11,17,"NativeModules"],[24,32,11,30],[26,2,13,0],[27,0,14,0],[28,0,15,0],[30,2,17,0],[31,0,18,0],[32,0,19,0],[33,0,20,0],[34,2,21,0],[34,8,21,6,"Permissions"],[34,19,21,17],[34,20,21,18],[35,4,22,2,"constructor"],[35,15,22,13,"constructor"],[35,16,22,13],[35,18,22,16],[36,6,23,4,"_defineProperty"],[36,21,23,19],[36,22,23,20],[36,26,23,24],[36,28,23,26],[36,36,23,34],[36,38,23,36],[37,8,24,6,"DENIED"],[37,14,24,12],[37,16,24,14],[37,24,24,22],[38,8,25,6,"GRANTED"],[38,15,25,13],[38,17,25,15],[38,26,25,24],[39,8,26,6,"PROMPT"],[39,14,26,12],[39,16,26,14],[40,6,27,4],[40,7,27,5],[40,8,27,6],[41,6,28,4,"_defineProperty"],[41,21,28,19],[41,22,28,20],[41,26,28,24],[41,28,28,26],[41,47,28,45],[41,49,28,47],[41,50,28,48],[41,58,28,56],[41,60,28,58],[41,72,28,70],[41,73,28,71],[41,74,28,72],[42,6,29,4,"_defineProperty"],[42,21,29,19],[42,22,29,20],[42,26,29,24],[42,28,29,26],[42,38,29,36],[42,40,29,38,"Promise"],[42,47,29,45],[42,48,29,46,"resolve"],[42,55,29,53],[42,56,29,54],[42,57,29,55],[42,58,29,56],[43,4,30,2],[44,4,31,2],[45,0,32,0],[46,0,33,0],[47,0,34,0],[48,4,35,2],[49,0,36,0],[50,0,37,0],[51,0,38,0],[52,4,39,2],[53,0,40,0],[54,0,41,0],[55,0,42,0],[56,0,43,0],[57,0,44,0],[58,0,45,0],[59,0,46,0],[60,0,47,0],[61,0,48,0],[62,4,49,2,"_requestPermissionAndroid"],[62,29,49,27,"_requestPermissionAndroid"],[62,30,49,28,"perm"],[62,34,49,32],[62,36,49,34],[63,6,50,4],[63,13,50,11],[63,17,50,15,"Promise"],[63,24,50,22],[63,25,50,23,"resolve"],[63,32,50,30],[63,36,50,34],[64,8,51,6,"_reactNative"],[64,20,51,18],[64,21,51,19,"PermissionsAndroid"],[64,39,51,37],[64,40,51,38,"request"],[64,47,51,45],[64,48,51,46,"perm"],[64,52,51,50],[64,53,51,51],[64,54,51,52,"then"],[64,58,51,56],[64,59,51,57,"granted"],[64,66,51,64],[64,70,51,68,"resolve"],[64,77,51,75],[64,78,51,76,"granted"],[64,85,51,83],[64,90,51,88,"_reactNative"],[64,102,51,100],[64,103,51,101,"PermissionsAndroid"],[64,121,51,119],[64,122,51,120,"RESULTS"],[64,129,51,127],[64,130,51,128,"GRANTED"],[64,137,51,135],[64,138,51,136],[64,140,51,138],[64,146,51,144,"resolve"],[64,153,51,151],[64,154,51,152],[64,159,51,157],[64,160,51,158],[64,161,51,159],[65,6,52,4],[65,7,52,5],[65,8,52,6],[66,4,53,2],[68,4,55,2],[69,0,56,0],[70,0,57,0],[71,4,58,2,"_validatePermissionDescriptior"],[71,34,58,32,"_validatePermissionDescriptior"],[71,35,58,33,"permissionDesc"],[71,49,58,47],[71,51,58,49],[72,6,59,4],[72,10,59,8],[72,17,59,15,"permissionDesc"],[72,31,59,29],[72,36,59,34],[72,44,59,42],[72,46,59,44],[73,8,60,6],[73,14,60,12],[73,18,60,16,"TypeError"],[73,27,60,25],[73,28,60,26],[73,79,60,77],[73,80,60,78],[74,6,61,4],[75,6,62,4],[75,10,62,8],[75,17,62,15,"permissionDesc"],[75,31,62,29],[75,32,62,30,"name"],[75,36,62,34],[75,41,62,39],[75,52,62,50],[75,54,62,52],[76,8,63,6],[76,14,63,12],[76,18,63,16,"TypeError"],[76,27,63,25],[76,28,63,26],[76,87,63,85],[76,88,63,86],[77,6,64,4],[78,6,65,4],[78,10,65,8],[78,14,65,12],[78,15,65,13,"VALID_PERMISSIONS"],[78,32,65,30],[78,33,65,31,"indexOf"],[78,40,65,38],[78,41,65,39,"permissionDesc"],[78,55,65,53],[78,56,65,54,"name"],[78,60,65,58],[78,61,65,59],[78,66,65,64],[78,67,65,65],[78,68,65,66],[78,70,65,68],[79,8,66,6],[79,14,66,12],[79,18,66,16,"TypeError"],[79,27,66,25],[79,28,66,26],[79,122,66,120],[79,123,66,121],[80,6,67,4],[81,4,68,2],[83,4,70,2],[84,0,71,0],[85,0,72,0],[86,0,73,0],[87,4,74,2,"query"],[87,9,74,7,"query"],[87,10,74,8,"permissionDesc"],[87,24,74,22],[87,26,74,24],[88,6,75,4],[88,10,75,8],[89,8,76,6],[89,12,76,10],[89,13,76,11,"_validatePermissionDescriptior"],[89,43,76,41],[89,44,76,42,"permissionDesc"],[89,58,76,56],[89,59,76,57],[90,6,77,4],[90,7,77,5],[90,8,77,6],[90,15,77,13,"e"],[90,16,77,14],[90,18,77,16],[91,8,78,6],[91,15,78,13,"Promise"],[91,22,78,20],[91,23,78,21,"reject"],[91,29,78,27],[91,30,78,28,"e"],[91,31,78,29],[91,32,78,30],[92,6,79,4],[93,6,80,4],[93,10,80,8,"_reactNative"],[93,22,80,20],[93,23,80,21,"Platform"],[93,31,80,29],[93,32,80,30,"OS"],[93,34,80,32],[93,39,80,37],[93,48,80,46],[93,50,80,48],[94,8,81,6],[94,14,81,12,"perm"],[94,18,81,16],[94,21,81,19,"permissionDesc"],[94,35,81,33],[94,36,81,34,"name"],[94,40,81,38],[94,45,81,43],[94,53,81,51],[94,56,81,54,"_reactNative"],[94,68,81,66],[94,69,81,67,"PermissionsAndroid"],[94,87,81,85],[94,88,81,86,"PERMISSIONS"],[94,99,81,97],[94,100,81,98,"CAMERA"],[94,106,81,104],[94,109,81,107,"_reactNative"],[94,121,81,119],[94,122,81,120,"PermissionsAndroid"],[94,140,81,138],[94,141,81,139,"PERMISSIONS"],[94,152,81,150],[94,153,81,151,"RECORD_AUDIO"],[94,165,81,163],[95,8,82,6],[95,15,82,13],[95,19,82,17,"Promise"],[95,26,82,24],[95,27,82,25,"resolve"],[95,34,82,32],[95,38,82,36],[96,10,83,8,"_reactNative"],[96,22,83,20],[96,23,83,21,"PermissionsAndroid"],[96,41,83,39],[96,42,83,40,"check"],[96,47,83,45],[96,48,83,46,"perm"],[96,52,83,50],[96,53,83,51],[96,54,83,52,"then"],[96,58,83,56],[96,59,83,57,"granted"],[96,66,83,64],[96,70,83,68,"resolve"],[96,77,83,75],[96,78,83,76,"granted"],[96,85,83,83],[96,88,83,86],[96,92,83,90],[96,93,83,91,"RESULT"],[96,99,83,97],[96,100,83,98,"GRANTED"],[96,107,83,105],[96,110,83,108],[96,114,83,112],[96,115,83,113,"RESULT"],[96,121,83,119],[96,122,83,120,"PROMPT"],[96,128,83,126],[96,129,83,127],[96,131,83,129],[96,137,83,135,"resolve"],[96,144,83,142],[96,145,83,143],[96,149,83,147],[96,150,83,148,"RESULT"],[96,156,83,154],[96,157,83,155,"PROMPT"],[96,163,83,161],[96,164,83,162],[96,165,83,163],[97,8,84,6],[97,9,84,7],[97,10,84,8],[98,6,85,4],[98,7,85,5],[98,13,85,11],[98,17,85,15,"_reactNative"],[98,29,85,27],[98,30,85,28,"Platform"],[98,38,85,36],[98,39,85,37,"OS"],[98,41,85,39],[98,46,85,44],[98,51,85,49],[98,55,85,53,"_reactNative"],[98,67,85,65],[98,68,85,66,"Platform"],[98,76,85,74],[98,77,85,75,"OS"],[98,79,85,77],[98,84,85,82],[98,91,85,89],[98,93,85,91],[99,8,86,6],[99,15,86,13,"WebRTCModule"],[99,27,86,25],[99,28,86,26,"checkPermission"],[99,43,86,41],[99,44,86,42,"permissionDesc"],[99,58,86,56],[99,59,86,57,"name"],[99,63,86,61],[99,64,86,62],[100,6,87,4],[100,7,87,5],[100,13,87,11],[101,8,88,6],[101,15,88,13,"Promise"],[101,22,88,20],[101,23,88,21,"reject"],[101,29,88,27],[101,30,88,28],[101,34,88,32,"TypeError"],[101,43,88,41],[101,44,88,42],[101,67,88,65],[101,68,88,66],[101,69,88,67],[102,6,89,4],[103,4,90,2],[105,4,92,2],[106,0,93,0],[107,0,94,0],[108,0,95,0],[109,4,96,2,"request"],[109,11,96,9,"request"],[109,12,96,10,"permissionDesc"],[109,26,96,24],[109,28,96,26],[110,6,97,4],[110,10,97,8],[111,8,98,6],[111,12,98,10],[111,13,98,11,"_validatePermissionDescriptior"],[111,43,98,41],[111,44,98,42,"permissionDesc"],[111,58,98,56],[111,59,98,57],[112,6,99,4],[112,7,99,5],[112,8,99,6],[112,15,99,13,"e"],[112,16,99,14],[112,18,99,16],[113,8,100,6],[113,15,100,13,"Promise"],[113,22,100,20],[113,23,100,21,"reject"],[113,29,100,27],[113,30,100,28,"e"],[113,31,100,29],[113,32,100,30],[114,6,101,4],[115,6,102,4],[115,10,102,8,"_reactNative"],[115,22,102,20],[115,23,102,21,"Platform"],[115,31,102,29],[115,32,102,30,"OS"],[115,34,102,32],[115,39,102,37],[115,48,102,46],[115,50,102,48],[116,8,103,6],[116,14,103,12,"perm"],[116,18,103,16],[116,21,103,19,"permissionDesc"],[116,35,103,33],[116,36,103,34,"name"],[116,40,103,38],[116,45,103,43],[116,53,103,51],[116,56,103,54,"_reactNative"],[116,68,103,66],[116,69,103,67,"PermissionsAndroid"],[116,87,103,85],[116,88,103,86,"PERMISSIONS"],[116,99,103,97],[116,100,103,98,"CAMERA"],[116,106,103,104],[116,109,103,107,"_reactNative"],[116,121,103,119],[116,122,103,120,"PermissionsAndroid"],[116,140,103,138],[116,141,103,139,"PERMISSIONS"],[116,152,103,150],[116,153,103,151,"RECORD_AUDIO"],[116,165,103,163],[117,8,104,6],[117,14,104,12,"requestPermission"],[117,31,104,29],[117,34,104,32,"requestPermission"],[117,35,104,32],[117,40,104,38],[117,44,104,42],[117,45,104,43,"_requestPermissionAndroid"],[117,70,104,68],[117,71,104,69,"perm"],[117,75,104,73],[117,76,104,74],[118,8,105,6],[118,12,105,10],[118,13,105,11,"_lastReq"],[118,21,105,19],[118,24,105,22],[118,28,105,26],[118,29,105,27,"_lastReq"],[118,37,105,35],[118,38,105,36,"then"],[118,42,105,40],[118,43,105,41,"requestPermission"],[118,60,105,58],[118,62,105,60,"requestPermission"],[118,79,105,77],[118,80,105,78],[119,8,106,6],[119,15,106,13],[119,19,106,17],[119,20,106,18,"_lastReq"],[119,28,106,26],[120,6,107,4],[120,7,107,5],[120,13,107,11],[120,17,107,15,"_reactNative"],[120,29,107,27],[120,30,107,28,"Platform"],[120,38,107,36],[120,39,107,37,"OS"],[120,41,107,39],[120,46,107,44],[120,51,107,49],[120,55,107,53,"_reactNative"],[120,67,107,65],[120,68,107,66,"Platform"],[120,76,107,74],[120,77,107,75,"OS"],[120,79,107,77],[120,84,107,82],[120,91,107,89],[120,93,107,91],[121,8,108,6],[121,15,108,13,"WebRTCModule"],[121,27,108,25],[121,28,108,26,"requestPermission"],[121,45,108,43],[121,46,108,44,"permissionDesc"],[121,60,108,58],[121,61,108,59,"name"],[121,65,108,63],[121,66,108,64],[122,6,109,4],[122,7,109,5],[122,13,109,11],[123,8,110,6],[123,15,110,13,"Promise"],[123,22,110,20],[123,23,110,21,"reject"],[123,29,110,27],[123,30,110,28],[123,34,110,32,"TypeError"],[123,43,110,41],[123,44,110,42],[123,67,110,65],[123,68,110,66],[123,69,110,67],[124,6,111,4],[125,4,112,2],[126,2,113,0],[127,2,114,0],[127,6,114,4,"_default"],[127,14,114,12],[127,17,114,15],[127,21,114,19,"Permissions"],[127,32,114,30],[127,33,114,31],[127,34,114,32],[128,2,115,0,"exports"],[128,9,115,7],[128,10,115,8,"default"],[128,17,115,15],[128,20,115,18,"_default"],[128,28,115,26],[129,0,115,27],[129,3]],"functionMap":{"names":["<global>","_defineProperty","Permissions","constructor","_requestPermissionAndroid","Promise$argument_0","_reactNative.PermissionsAndroid.request.then$argument_0","_reactNative.PermissionsAndroid.request.then$argument_1","_validatePermissionDescriptior","query","_reactNative.PermissionsAndroid.check.then$argument_0","_reactNative.PermissionsAndroid.check.then$argument_1","request","requestPermission"],"mappings":"AAA;ACO,iND;AEa;ECC;GDQ;EEmB;uBCC;yDCC,+ED,EE,oBF;KDC;GFC;EMK;GNU;EOM;yBJQ;yDKC,sEL,EM,iCN;OIC;GPM;EUM;gCCQ,0CD;GVQ;CFC"}},"type":"js/module"}]}
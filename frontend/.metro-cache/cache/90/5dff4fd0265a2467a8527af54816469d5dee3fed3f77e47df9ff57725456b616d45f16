{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"react-native-web/dist/exports/NativeModules","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MRft9soElPgDBIQyAww27iefYeU=","exportNames":["*"]}},{"name":"react-native-web/dist/index","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"55efhPHw3gz2FoQtoN2yI1VuhbM=","exportNames":["*"]}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _NativeModules = _interopRequireDefault(require(_dependencyMap[1], \"react-native-web/dist/exports/NativeModules\"));\n  var _index = require(_dependencyMap[2], \"react-native-web/dist/index\");\n  var _Platform = _interopRequireDefault(require(_dependencyMap[3], \"react-native-web/dist/exports/Platform\"));\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n  const {\n    WebRTCModule\n  } = _NativeModules.default;\n\n  /**\n   * Type declaration for a permissions descriptor.\n   */\n\n  /**\n   * Class implementing a subset of W3C's Permissions API as defined by:\n   * https://www.w3.org/TR/permissions/\n   */\n  class Permissions {\n    constructor() {\n      _defineProperty(this, \"RESULT\", {\n        DENIED: 'denied',\n        GRANTED: 'granted',\n        PROMPT: 'prompt'\n      });\n      _defineProperty(this, \"VALID_PERMISSIONS\", ['camera', 'microphone']);\n      _defineProperty(this, \"_lastReq\", Promise.resolve());\n    }\n    /**\n     * Possible result values for {@link query}, in accordance with:\n     * https://www.w3.org/TR/permissions/#status-of-a-permission\n     */\n    /**\n     * This implementation only supports requesting these permissions, a subset\n     * of: https://www.w3.org/TR/permissions/#permission-registry\n     */\n    /**\n     * Helper for requesting Android permissions. On Android only one permission\n     * can be requested at a time (unless the multi-permission API is used,\n     * but we are not using that for symmetry with the W3C API for querying)\n     * so we'll queue them up.\n     *\n     * @param perm - The requested permission from\n     * {@link PermissionsAndroid.PERMISSIONS}\n     * https://facebook.github.io/react-native/docs/permissionsandroid#permissions-that-require-prompting-the-user\n     */\n    _requestPermissionAndroid(perm) {\n      return new Promise(resolve => {\n        _index.PermissionsAndroid.request(perm).then(granted => resolve(granted === _index.PermissionsAndroid.RESULTS.GRANTED), () => resolve(false));\n      });\n    }\n\n    /**\n     * Validates the given permission descriptor.\n     */\n    _validatePermissionDescriptior(permissionDesc) {\n      if (typeof permissionDesc !== 'object') {\n        throw new TypeError('Argument 1 of Permissions.query is not an object.');\n      }\n      if (typeof permissionDesc.name === 'undefined') {\n        throw new TypeError('Missing required \\'name\\' member of PermissionDescriptor.');\n      }\n      if (this.VALID_PERMISSIONS.indexOf(permissionDesc.name) === -1) {\n        throw new TypeError('\\'name\\' member of PermissionDescriptor is not a valid value for enumeration PermissionName.');\n      }\n    }\n\n    /**\n     * Method for querying the status of a permission, according to:\n     * https://www.w3.org/TR/permissions/#permissions-interface\n     */\n    query(permissionDesc) {\n      try {\n        this._validatePermissionDescriptior(permissionDesc);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n      if (_Platform.default.OS === 'android') {\n        const perm = permissionDesc.name === 'camera' ? _index.PermissionsAndroid.PERMISSIONS.CAMERA : _index.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO;\n        return new Promise(resolve => {\n          _index.PermissionsAndroid.check(perm).then(granted => resolve(granted ? this.RESULT.GRANTED : this.RESULT.PROMPT), () => resolve(this.RESULT.PROMPT));\n        });\n      } else if (_Platform.default.OS === 'ios' || _Platform.default.OS === 'macos') {\n        return WebRTCModule.checkPermission(permissionDesc.name);\n      } else {\n        return Promise.reject(new TypeError('Unsupported platform.'));\n      }\n    }\n\n    /**\n     * Custom method NOT defined by W3C's permissions API, which allows the\n     * caller to request a permission.\n     */\n    request(permissionDesc) {\n      try {\n        this._validatePermissionDescriptior(permissionDesc);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n      if (_Platform.default.OS === 'android') {\n        const perm = permissionDesc.name === 'camera' ? _index.PermissionsAndroid.PERMISSIONS.CAMERA : _index.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO;\n        const requestPermission = () => this._requestPermissionAndroid(perm);\n        this._lastReq = this._lastReq.then(requestPermission, requestPermission);\n        return this._lastReq;\n      } else if (_Platform.default.OS === 'ios' || _Platform.default.OS === 'macos') {\n        return WebRTCModule.requestPermission(permissionDesc.name);\n      } else {\n        return Promise.reject(new TypeError('Unsupported platform.'));\n      }\n    }\n  }\n  var _default = exports.default = new Permissions();\n});","lineCount":129,"map":[[10,2,1,0],[10,11,1,9,"_defineProperty"],[10,26,1,24,"_defineProperty"],[10,27,1,25,"obj"],[10,30,1,28],[10,32,1,30,"key"],[10,35,1,33],[10,37,1,35,"value"],[10,42,1,40],[10,44,1,42],[11,4,1,44],[11,8,1,48,"key"],[11,11,1,51],[11,15,1,55,"obj"],[11,18,1,58],[11,20,1,60],[12,6,1,62,"Object"],[12,12,1,68],[12,13,1,69,"defineProperty"],[12,27,1,83],[12,28,1,84,"obj"],[12,31,1,87],[12,33,1,89,"key"],[12,36,1,92],[12,38,1,94],[13,8,1,96,"value"],[13,13,1,101],[13,15,1,103,"value"],[13,20,1,108],[14,8,1,110,"enumerable"],[14,18,1,120],[14,20,1,122],[14,24,1,126],[15,8,1,128,"configurable"],[15,20,1,140],[15,22,1,142],[15,26,1,146],[16,8,1,148,"writable"],[16,16,1,156],[16,18,1,158],[17,6,1,163],[17,7,1,164],[17,8,1,165],[18,4,1,167],[18,5,1,168],[18,11,1,174],[19,6,1,176,"obj"],[19,9,1,179],[19,10,1,180,"key"],[19,13,1,183],[19,14,1,184],[19,17,1,187,"value"],[19,22,1,192],[20,4,1,194],[21,4,1,196],[21,11,1,203,"obj"],[21,14,1,206],[22,2,1,208],[23,2,3,0],[23,8,3,6],[24,4,4,2,"WebRTCModule"],[25,2,5,0],[25,3,5,1],[25,6,5,4,"NativeModules"],[25,28,5,17],[27,2,7,0],[28,0,8,0],[29,0,9,0],[31,2,11,0],[32,0,12,0],[33,0,13,0],[34,0,14,0],[35,2,15,0],[35,8,15,6,"Permissions"],[35,19,15,17],[35,20,15,18],[36,4,16,2,"constructor"],[36,15,16,13,"constructor"],[36,16,16,13],[36,18,16,16],[37,6,17,4,"_defineProperty"],[37,21,17,19],[37,22,17,20],[37,26,17,24],[37,28,17,26],[37,36,17,34],[37,38,17,36],[38,8,18,6,"DENIED"],[38,14,18,12],[38,16,18,14],[38,24,18,22],[39,8,19,6,"GRANTED"],[39,15,19,13],[39,17,19,15],[39,26,19,24],[40,8,20,6,"PROMPT"],[40,14,20,12],[40,16,20,14],[41,6,21,4],[41,7,21,5],[41,8,21,6],[42,6,22,4,"_defineProperty"],[42,21,22,19],[42,22,22,20],[42,26,22,24],[42,28,22,26],[42,47,22,45],[42,49,22,47],[42,50,22,48],[42,58,22,56],[42,60,22,58],[42,72,22,70],[42,73,22,71],[42,74,22,72],[43,6,23,4,"_defineProperty"],[43,21,23,19],[43,22,23,20],[43,26,23,24],[43,28,23,26],[43,38,23,36],[43,40,23,38,"Promise"],[43,47,23,45],[43,48,23,46,"resolve"],[43,55,23,53],[43,56,23,54],[43,57,23,55],[43,58,23,56],[44,4,24,2],[45,4,25,2],[46,0,26,0],[47,0,27,0],[48,0,28,0],[49,4,29,2],[50,0,30,0],[51,0,31,0],[52,0,32,0],[53,4,33,2],[54,0,34,0],[55,0,35,0],[56,0,36,0],[57,0,37,0],[58,0,38,0],[59,0,39,0],[60,0,40,0],[61,0,41,0],[62,0,42,0],[63,4,43,2,"_requestPermissionAndroid"],[63,29,43,27,"_requestPermissionAndroid"],[63,30,43,28,"perm"],[63,34,43,32],[63,36,43,34],[64,6,44,4],[64,13,44,11],[64,17,44,15,"Promise"],[64,24,44,22],[64,25,44,23,"resolve"],[64,32,44,30],[64,36,44,34],[65,8,45,6,"PermissionsAndroid"],[65,33,45,24],[65,34,45,25,"request"],[65,41,45,32],[65,42,45,33,"perm"],[65,46,45,37],[65,47,45,38],[65,48,45,39,"then"],[65,52,45,43],[65,53,45,44,"granted"],[65,60,45,51],[65,64,45,55,"resolve"],[65,71,45,62],[65,72,45,63,"granted"],[65,79,45,70],[65,84,45,75,"PermissionsAndroid"],[65,109,45,93],[65,110,45,94,"RESULTS"],[65,117,45,101],[65,118,45,102,"GRANTED"],[65,125,45,109],[65,126,45,110],[65,128,45,112],[65,134,45,118,"resolve"],[65,141,45,125],[65,142,45,126],[65,147,45,131],[65,148,45,132],[65,149,45,133],[66,6,46,4],[66,7,46,5],[66,8,46,6],[67,4,47,2],[69,4,49,2],[70,0,50,0],[71,0,51,0],[72,4,52,2,"_validatePermissionDescriptior"],[72,34,52,32,"_validatePermissionDescriptior"],[72,35,52,33,"permissionDesc"],[72,49,52,47],[72,51,52,49],[73,6,53,4],[73,10,53,8],[73,17,53,15,"permissionDesc"],[73,31,53,29],[73,36,53,34],[73,44,53,42],[73,46,53,44],[74,8,54,6],[74,14,54,12],[74,18,54,16,"TypeError"],[74,27,54,25],[74,28,54,26],[74,79,54,77],[74,80,54,78],[75,6,55,4],[76,6,56,4],[76,10,56,8],[76,17,56,15,"permissionDesc"],[76,31,56,29],[76,32,56,30,"name"],[76,36,56,34],[76,41,56,39],[76,52,56,50],[76,54,56,52],[77,8,57,6],[77,14,57,12],[77,18,57,16,"TypeError"],[77,27,57,25],[77,28,57,26],[77,87,57,85],[77,88,57,86],[78,6,58,4],[79,6,59,4],[79,10,59,8],[79,14,59,12],[79,15,59,13,"VALID_PERMISSIONS"],[79,32,59,30],[79,33,59,31,"indexOf"],[79,40,59,38],[79,41,59,39,"permissionDesc"],[79,55,59,53],[79,56,59,54,"name"],[79,60,59,58],[79,61,59,59],[79,66,59,64],[79,67,59,65],[79,68,59,66],[79,70,59,68],[80,8,60,6],[80,14,60,12],[80,18,60,16,"TypeError"],[80,27,60,25],[80,28,60,26],[80,122,60,120],[80,123,60,121],[81,6,61,4],[82,4,62,2],[84,4,64,2],[85,0,65,0],[86,0,66,0],[87,0,67,0],[88,4,68,2,"query"],[88,9,68,7,"query"],[88,10,68,8,"permissionDesc"],[88,24,68,22],[88,26,68,24],[89,6,69,4],[89,10,69,8],[90,8,70,6],[90,12,70,10],[90,13,70,11,"_validatePermissionDescriptior"],[90,43,70,41],[90,44,70,42,"permissionDesc"],[90,58,70,56],[90,59,70,57],[91,6,71,4],[91,7,71,5],[91,8,71,6],[91,15,71,13,"e"],[91,16,71,14],[91,18,71,16],[92,8,72,6],[92,15,72,13,"Promise"],[92,22,72,20],[92,23,72,21,"reject"],[92,29,72,27],[92,30,72,28,"e"],[92,31,72,29],[92,32,72,30],[93,6,73,4],[94,6,74,4],[94,10,74,8,"Platform"],[94,27,74,16],[94,28,74,17,"OS"],[94,30,74,19],[94,35,74,24],[94,44,74,33],[94,46,74,35],[95,8,75,6],[95,14,75,12,"perm"],[95,18,75,16],[95,21,75,19,"permissionDesc"],[95,35,75,33],[95,36,75,34,"name"],[95,40,75,38],[95,45,75,43],[95,53,75,51],[95,56,75,54,"PermissionsAndroid"],[95,81,75,72],[95,82,75,73,"PERMISSIONS"],[95,93,75,84],[95,94,75,85,"CAMERA"],[95,100,75,91],[95,103,75,94,"PermissionsAndroid"],[95,128,75,112],[95,129,75,113,"PERMISSIONS"],[95,140,75,124],[95,141,75,125,"RECORD_AUDIO"],[95,153,75,137],[96,8,76,6],[96,15,76,13],[96,19,76,17,"Promise"],[96,26,76,24],[96,27,76,25,"resolve"],[96,34,76,32],[96,38,76,36],[97,10,77,8,"PermissionsAndroid"],[97,35,77,26],[97,36,77,27,"check"],[97,41,77,32],[97,42,77,33,"perm"],[97,46,77,37],[97,47,77,38],[97,48,77,39,"then"],[97,52,77,43],[97,53,77,44,"granted"],[97,60,77,51],[97,64,77,55,"resolve"],[97,71,77,62],[97,72,77,63,"granted"],[97,79,77,70],[97,82,77,73],[97,86,77,77],[97,87,77,78,"RESULT"],[97,93,77,84],[97,94,77,85,"GRANTED"],[97,101,77,92],[97,104,77,95],[97,108,77,99],[97,109,77,100,"RESULT"],[97,115,77,106],[97,116,77,107,"PROMPT"],[97,122,77,113],[97,123,77,114],[97,125,77,116],[97,131,77,122,"resolve"],[97,138,77,129],[97,139,77,130],[97,143,77,134],[97,144,77,135,"RESULT"],[97,150,77,141],[97,151,77,142,"PROMPT"],[97,157,77,148],[97,158,77,149],[97,159,77,150],[98,8,78,6],[98,9,78,7],[98,10,78,8],[99,6,79,4],[99,7,79,5],[99,13,79,11],[99,17,79,15,"Platform"],[99,34,79,23],[99,35,79,24,"OS"],[99,37,79,26],[99,42,79,31],[99,47,79,36],[99,51,79,40,"Platform"],[99,68,79,48],[99,69,79,49,"OS"],[99,71,79,51],[99,76,79,56],[99,83,79,63],[99,85,79,65],[100,8,80,6],[100,15,80,13,"WebRTCModule"],[100,27,80,25],[100,28,80,26,"checkPermission"],[100,43,80,41],[100,44,80,42,"permissionDesc"],[100,58,80,56],[100,59,80,57,"name"],[100,63,80,61],[100,64,80,62],[101,6,81,4],[101,7,81,5],[101,13,81,11],[102,8,82,6],[102,15,82,13,"Promise"],[102,22,82,20],[102,23,82,21,"reject"],[102,29,82,27],[102,30,82,28],[102,34,82,32,"TypeError"],[102,43,82,41],[102,44,82,42],[102,67,82,65],[102,68,82,66],[102,69,82,67],[103,6,83,4],[104,4,84,2],[106,4,86,2],[107,0,87,0],[108,0,88,0],[109,0,89,0],[110,4,90,2,"request"],[110,11,90,9,"request"],[110,12,90,10,"permissionDesc"],[110,26,90,24],[110,28,90,26],[111,6,91,4],[111,10,91,8],[112,8,92,6],[112,12,92,10],[112,13,92,11,"_validatePermissionDescriptior"],[112,43,92,41],[112,44,92,42,"permissionDesc"],[112,58,92,56],[112,59,92,57],[113,6,93,4],[113,7,93,5],[113,8,93,6],[113,15,93,13,"e"],[113,16,93,14],[113,18,93,16],[114,8,94,6],[114,15,94,13,"Promise"],[114,22,94,20],[114,23,94,21,"reject"],[114,29,94,27],[114,30,94,28,"e"],[114,31,94,29],[114,32,94,30],[115,6,95,4],[116,6,96,4],[116,10,96,8,"Platform"],[116,27,96,16],[116,28,96,17,"OS"],[116,30,96,19],[116,35,96,24],[116,44,96,33],[116,46,96,35],[117,8,97,6],[117,14,97,12,"perm"],[117,18,97,16],[117,21,97,19,"permissionDesc"],[117,35,97,33],[117,36,97,34,"name"],[117,40,97,38],[117,45,97,43],[117,53,97,51],[117,56,97,54,"PermissionsAndroid"],[117,81,97,72],[117,82,97,73,"PERMISSIONS"],[117,93,97,84],[117,94,97,85,"CAMERA"],[117,100,97,91],[117,103,97,94,"PermissionsAndroid"],[117,128,97,112],[117,129,97,113,"PERMISSIONS"],[117,140,97,124],[117,141,97,125,"RECORD_AUDIO"],[117,153,97,137],[118,8,98,6],[118,14,98,12,"requestPermission"],[118,31,98,29],[118,34,98,32,"requestPermission"],[118,35,98,32],[118,40,98,38],[118,44,98,42],[118,45,98,43,"_requestPermissionAndroid"],[118,70,98,68],[118,71,98,69,"perm"],[118,75,98,73],[118,76,98,74],[119,8,99,6],[119,12,99,10],[119,13,99,11,"_lastReq"],[119,21,99,19],[119,24,99,22],[119,28,99,26],[119,29,99,27,"_lastReq"],[119,37,99,35],[119,38,99,36,"then"],[119,42,99,40],[119,43,99,41,"requestPermission"],[119,60,99,58],[119,62,99,60,"requestPermission"],[119,79,99,77],[119,80,99,78],[120,8,100,6],[120,15,100,13],[120,19,100,17],[120,20,100,18,"_lastReq"],[120,28,100,26],[121,6,101,4],[121,7,101,5],[121,13,101,11],[121,17,101,15,"Platform"],[121,34,101,23],[121,35,101,24,"OS"],[121,37,101,26],[121,42,101,31],[121,47,101,36],[121,51,101,40,"Platform"],[121,68,101,48],[121,69,101,49,"OS"],[121,71,101,51],[121,76,101,56],[121,83,101,63],[121,85,101,65],[122,8,102,6],[122,15,102,13,"WebRTCModule"],[122,27,102,25],[122,28,102,26,"requestPermission"],[122,45,102,43],[122,46,102,44,"permissionDesc"],[122,60,102,58],[122,61,102,59,"name"],[122,65,102,63],[122,66,102,64],[123,6,103,4],[123,7,103,5],[123,13,103,11],[124,8,104,6],[124,15,104,13,"Promise"],[124,22,104,20],[124,23,104,21,"reject"],[124,29,104,27],[124,30,104,28],[124,34,104,32,"TypeError"],[124,43,104,41],[124,44,104,42],[124,67,104,65],[124,68,104,66],[124,69,104,67],[125,6,105,4],[126,4,106,2],[127,2,107,0],[128,2,107,1],[128,6,107,1,"_default"],[128,14,107,1],[128,17,107,1,"exports"],[128,24,107,1],[128,25,107,1,"default"],[128,32,107,1],[128,35,108,15],[128,39,108,19,"Permissions"],[128,50,108,30],[128,51,108,31],[128,52,108,32],[129,0,108,32],[129,3]],"functionMap":{"names":["_defineProperty","<global>","Permissions","constructor","_requestPermissionAndroid","Promise$argument_0","PermissionsAndroid.request.then$argument_0","PermissionsAndroid.request.then$argument_1","_validatePermissionDescriptior","query","PermissionsAndroid.check.then$argument_0","PermissionsAndroid.check.then$argument_1","request","requestPermission"],"mappings":"AAA,iNC;ACc;ECC;GDQ;EEmB;uBCC;4CCC,kED,EE,oBF;KDC;GFC;EMK;GNU;EOM;yBJQ;4CKC,sEL,EM,iCN;OIC;GPM;EUM;gCCQ,0CD;GVQ;CDC"}},"type":"js/module"}]}